<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" href="../css/base.css"/>
    <link rel="stylesheet" href="../css/jquery.mobile-1.4.5.css"/>
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/jquery.mobile-1.4.5.js"></script>
    <title>Echo的第二个移动页面</title>
</head>
<body>

    <div class="w_100 bd77ccdd" data-role="page" id="foo">
        <div data-role="header">
            <h1>Foo header</h1>
        </div>
        <div data-role="content">
            <p>第一个页面：foo</p>
            <p>跳转至 <a href="#bar" data-transition="slidedown">bar</a></p>
            <h2>My big big fool content</h2>
        </div>
        <div role="main" class="ui-content">
            <p>第2个页面：foo</p>
            <p>跳转至 <a href="#bar" data-transition="slidedown">bar</a></p>
            <h2>My big big fool content</h2>
        </div>
        <div data-role="footer">
            <h1>Foo footer</h1>
        </div>
    </div>

    <div class="w_100 bgddce0e7" data-role="page" id="bar">
        <div data-role="header">
            <h1>Bar header</h1>
        </div>
        <div data-role="content">
            <p>第二个页面：foo</p>
            <p>跳转至 <a href="#foo" data-transition="flow">Foo</a></p>
            <h2>My big big bar content</h2>
            <a href="#" data-role="button" data-theme="a">Anchor</a>
            <form action="">
                <button data-theme="b">A</button>
                <input type="button" value="Button" data-theme="c"/>
                <input type="submit" value="Submit" data-theme="d"/>
                <input type="reset" value="Reset" data-theme="e"/>
            </form>
        </div>
        <div data-role="footer">
            <h1>Bar footer</h1>
        </div>
    </div>

    <script>
        $(function(){
           $("#bar").page({domCache: true});//缓存所有访问过的page
            $("a").on("click", function(){
                var $this = $(this);
                if($this.parent().parent().attr("id") == "bar"){
                    alert("kkk");
                    $.mobile.navigate($this.attr("href"), {
                        foo: $this.attr('data-foo')
                    })
                }
            })
        });

        $(window).on("navigate", function(event, data){
            if(data.state.foo){

            }
        })
    </script>
</body>
</html>